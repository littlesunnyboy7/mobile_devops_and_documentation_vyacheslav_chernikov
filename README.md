# Конспект мастер-класса [Вячеслава Черникова "О Mobile DevOps. Полезная техническая документация для общения команды"](https://www.youtube.com/watch?v=-tuy4eK4_qc)

## Культура DevOps

DevOps был создан для решения проблем в больших командах. Цель — грамотное общение с целью развития проекта.

Сам DevOps реализуется с помощью гибких методик.

## Mobile DevOps

В чем особенность проектов для мобильной разработки? Как правило, небольшие команды (2–8 человек), небольшой проект. Mobile DevOps достаточно молодое направление, поэтому нет носителей “зрелой” культуры. Как правило, мобильные разработчики не проходили “огранку” в больших компаниях.

Часто бывают разные команды на каждую платформу. + меняются системные API и механизмы, поэтому приложение может работать на последней версии ОС, но не работать на ранних.

Много разных устройств (разное железо и экраны) и сами производители могут совершать ошибки в прошивке. 

Если сравнивать корпоративные и мобильные продукты, то корпоративные продукты часто состоят из большого количества модулей, поэтому скриптов и тестов много. У мобильных проектов другая ситуация: приложение меньше, но при этом используется на большом парке устройств.

## Единая рабочая документация

Нет однозначного решения для общения между участниками мобильного проекта. Чтобы понять, как определиться с единым языком, нужно понять, как говорит бизнес. Бизнес оперирует понятием “ценность”, то есть насколько хорошо продукт удовлетворяет потребности конечных потребителей, и понятием “возврат инвестиций”. Также бизнесу понятны сценарии, по которым будут ходить пользователи.

Если говорить о разработчиках, то им понятны термины, которые помогают им писать и структурировать код.

Тестировщики мыслят категориями тестовых сценариев и разных устройств, на которых отрабатываются тестовые сценарии.

Единым языком общения может стать единая документация, которая будет понятна бизнесу, разработчикам и тестировщикам.

Начать стоит с ТЗ, потому что оно живет весь цикл разработки приложения. Для кого оно пишется? ТЗ пишется для заказчика и бизнеса, это контракт с заказчиком. В нем отражены требования, критичные для бизнеса, описание бизнес-сценариев. Оно пишется для бизнеса, а не для разработчика.

Полезное из ТЗ для разработчика:

* Архитектура и структура проекта: какие будут папки, как они будут друг с другом связаны.
* Единый язык “документация — код” в ТЗ редко получает отражение.
* Описание отдельных экранов. Мобильный разработчик реализует не всю систему, а только определенную часть.
* Описание переходов между экранами.
* Описание внешних систем для интеграции (REST API, сервисы геолокации)

Для структурирования процессов разработки необходимо понять одну вещь. Большинство методик создают несколько моделей предметной области, которые не связаны с пользователем (абстрактные модели): модели, которые отображаются пользователю; модели предметной области; модели, которые передаются с сервера.  Такие модели для мобильной разработки не подходят.

Если мы берем мобильные приложения, то важно понимать, что они являются пользовательским интерфейсом для бизнес-процесса, модель предметной области описывается интерфейсом. Поэтому мы можем идти от экранов и интерфейса для того, чтобы описывать структуру вашего проекта. Учитывая, что экраны довольно простые, то вся команда может использовать этот подход для классификации в своей работе.

От дизайнера приходит в наборе картинок. Необходимо разбить и разделить на разделы, дать названия и нумерацию. Используем английские наименования, чтобы разработчик сразу использовал их в коде. Нумерация облегчит общение (проще сослаться на номер экрана при обсуждении). Можно также использовать свой цвет.

Описанная логика будет общей для всей команды. Таким образом мы получили общие термины и обозначения.

Для людей к описанию экрана можно добавить и краткое описание на родном языке. Так будет понятнее.

Дополнительно нужно прописать состояния экранов: идет процесс загрузки, отсутствует интернет-соединение, ошибки загрузки данных, отсутствие данных. Можно логировать все ошибки, связанные с сервером.

Карты переходов появились очень давно. Они представляют собой набор скриншотов, связанных стрелочками. Такой метод не подойдет для многоэкранных проектов (30-50 экранах): сложной удержать в голове, непрозрачные связи. 

Вместо такого подхода можно показывать передаваемые на экран данные. К каждому экрану можно добавить состояния, показать, при каких обстоятельствах пользователь пройдет дальше по процессу (показаны плюсиками и минусиками). При первых попытках реализовать такое, можно обойтись без указания интерфейсных элементов для переходов. Такую карту можно распечатать, она позволит увидеть проект целиком.

Таблица экранов позволяет проще реализовывать модули. Что в нее входит:

* Подробная информация по каждому экрану
* Привязка моделей данных к экранам. Это позволит держать репозиторий с данными для каждого экрана
* Привязка экранов к методам Data Access Layer
* Описание поведения отдельного экрана. В таблице понятно, что и как тестировать.

Таблица состоит их колонок: name, states (состояния), validation (ограничения и маски), behavior (поведение экрана при действиях пользователя), AutomationId (имя поля для автотестов)

behaviors. Можно разбить экран на микросценарии и их описать. Атомарные наборы действий могут использоваться для написания ViewModel и UI-тестов. Из атомарно микро-сценариев формируются сценарии использования.

Сценарии использования состоят из описания начальных условий тестирования, ожидаемый результат тестового плана, шаги состоят из описания UI, действия пользователя, реакции системы.

Документацию необходимо обновлять и поддерживать. Документацией может заниматься сама команда, так как она лучше погружается в проект, задаются вопросы по непонятным местам.

## Командная работа

Общение и DevOps. Дл единой команды нужны единый язык общения и единая документация. Если все это есть, то можно дальше внедрять методы для дальнейшего взаимодействия и общения.

